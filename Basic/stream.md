1. stream自己不会存储元素
2. stream不会改变源对象，相反，他们会返回一个持有结果的新stream
3. stream操作是延迟的。这意味着他们会等到需要结果的时候才执行



步骤

- 创建stream

  一个数据源，获取一个流

- 中间操作

  一个中间操作链，对数据源的数据进行处理

- 终止操作

  **一旦执行终止操作，才执行中间操作链，并产生结果。之后，不会再被使用**



中间操作

多个中间操作可以连接起来形成一个流水线，**除非流水线上触发终止操作，否则中间操作不会执行任何处理**！而在终止操作时一次性全部处理，称为惰性求值。

1. 筛选与切片

   

   | 方法                | 描述                                                         |
   | ------------------- | ------------------------------------------------------------ |
   | filter(Predicate p) | 接受lambda，从流中排除某些元素                               |
   | distinct()          | 筛选，通过流所生成的hashCode()和equals()去除重复元素         |
   | limit(long maxSize) | 截断流，使其元素不超过指定数量                               |
   | skip(long n)        | 跳过元素，返回一个扔掉了前n个元素的流。若流中元素不足n个，则返回一个空流。与limit(n)互补 |

   

2. 映射

   

   | 方法                           | 描述                                                         |
   | ------------------------------ | ------------------------------------------------------------ |
   | map(Function f)                | 接受一个函数作为参数，该函数会被应用到每个元素上，并将其映射成一个新的元素 |
   | mapToDouble(ToDoubleFunction f | 接受一个函数作为参数，该函数会被应用到每个元素上，产生一个新的DoubleStream |
   | mapToInt(ToIntFunction f)      | 接受一个函数作为参数，该函数会被应用到每个元素上，产生一个新的IntStream |
   | MapToLong(ToLongFunction f)    | 接受一个函数作为参数，该函数会被应用到每个元素上，产生一个新的LongStream |
   | flapMap(Function f)            | 接受一个函数作为参数，将六种的每个值都换成另一个流，然后把所有流连接成一个流 |

3. 排序

   

   | 方法                   | 描述                               |
   | ---------------------- | ---------------------------------- |
   | sorted()               | 产生一个新流，其中按自然顺序排序   |
   | sorted(Comparator com) | 产生一个新流，其中按比较器顺序排序 |




终端操作

终端操作会从流的流水线上生成结果。其结果可以是任何不是流的值，例如：List、Intger，甚至是void。

1. 匹配与查找

   

   | 方法                   | 描述                     |
   | ---------------------- | ------------------------ |
   | allMatch(Predicate p)  | 检查是否匹配所有元素     |
   | anyMatch(Predicate p)  | 检查是否至少匹配一个元素 |
   | noneMatch(Predicate p) | 检查是否没有匹配所有元素 |
   | findFirst()            | 返回第一个元素           |
   | findAny()              | 返回当前流中的任意元素   |
   | count()                | 返回流中元素总数         |
   | max(Comparator c)      | 返回流中元素最大值       |
   | min(Comparator c)      | 返回流中最小值           |
   | forEach(Consumer c)    | 内部迭代                 |

2. 归约

   

   | 方法                            | 描述                                                       |
   | ------------------------------- | ---------------------------------------------------------- |
   | reduce(T iden,BinaryOperator b) | 可以将流中元素反复结合起来，得到一个值。返回T              |
   | reduce(BinaryOperator b)        | 可以将流中元素反复结合起来，得到一个值。返回Optional/</T/> |

3. 收集

   

   | 方法                 | 描述                                                         |
   | -------------------- | ------------------------------------------------------------ |
   | collect(Collector c) | 将流转换为其它形式。接受一个Collector接口的实现，用于给Stream中元素做汇总的方法 |

   Collectors类中提供了很多的静态方法供我们使用。

   比如`toList()`、`toSet()`、`toMap()`等。

