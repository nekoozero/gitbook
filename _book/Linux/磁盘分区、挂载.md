# Linux 分区

1.  Linux来说无论有几个分区，分给哪一目录使用，它归根结底就只有一个根目录，一个独 立且唯一的文件结构 , Linux中每个分区都是用来组成整个文件系统的一部分。
2.  Linux采用了一种叫“载入”的处理方法，它的整个文件系统中包含了一整套的文件和目 录，且将一个分区和一个目录联系起来。这时要载入的一个分区将使它的存储空间在一 个目录下获得。 

# 硬盘说明

分IDE硬盘和SCSI硬盘 目前基本上是SCSI硬盘

* 对于IDE硬盘，驱动器标识符为“hdx~”,其中“hd”表明分区所在设备的类型，这里是指 IDE硬盘了。“x”为盘号（a为基本盘，b为基本从属盘，c为辅助主盘，d为辅助从属盘）,“~”代表分区，前四个分区用数字1到4表示，它们是主分区或扩展分区，从5开始就 是逻辑分区。例，hda3表示为第一个IDE硬盘上的第三个主分区或扩展分区,hdb2表示为 第二个IDE硬盘上的第二个主分区或扩展分区。
* 对于SCSI硬盘则标识为“sdx~”，SCSI硬盘是用“sd”来表示分区所在设备的类型的，其余 则和IDE硬盘的表示方法一样

# 实操

查看所有设备挂在情况 `lsblk` 或者 `lsblk -f`

**实际应用：Linux系统长期使用 磁盘几乎快要满了 会严重影响性能 此时就需要磁盘分区、挂载了。**

## 如何增加一块硬盘？

1. 虚拟机添加硬盘
2. 分区
3. 格式化
4. 挂载
5. 设置可以自动挂载

## 详细步骤

1. 虚拟机增加硬盘

   在【虚拟机】菜单中，选择【设 置】，然后设备列表里添加硬盘， 然后一路【下一步】，中间只有 选择磁盘大小的地方需要修改， 至到完成。然后重启系统（才能 识别）！

2. 分区命令 fdisk   /dev/sdb 开始对/sdb分区

    • m   显示命令列表 

    • p    显示磁盘分区 同 fdisk  –l 

    • n    新增分区 

    • d     删除分区 

    • w   写入并退出

    说明： 开始分区后输入n，新增分区，然后选择p ，分区类型为主分区。两次回车默认剩 余全部空间。最后输入w写入分区并退出，若不保存退出输入q。

3. 格式化磁盘 

   分区命令:mkfs -t  ext4   /dev/sdb1  

   其中ext4是分区类型

4. 挂载

   挂载: 将一个分区与一个目录联系起来，

    • mount    设备名称 挂载目录

   ​         • 例如： mount    /dev/sdb1    /newdisk 

    • umount 设备名称 或者 挂载目录 

   ​         • 例如： umount /dev/sdb1 或者 umount /newdisk

    **• 用命令行挂载重启后会失效**

5. 永久挂载

​        通过修改/etc/fstab实现挂载 添加完成后 执行mount   –a 即刻生效

​        复制一行UUID，修改

​          /dev/sdb1                           /newdisk                    ext4                             defaults

​         添加完成后 执行mount   –a 即刻生效